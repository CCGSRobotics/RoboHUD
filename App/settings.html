<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <div id='general_editor_holder'></div>
    <button id='general_submit'>Submit (console.log)</button>
    <div id='wheel_editor_holder'></div>
    <button id='wheel_submit'>Submit (console.log)</button>
    <script type="text/javascript">
    const JSONEditor = require('@json-editor/json-editor');

      var generalEditor = new JSONEditor(document.getElementById('general_editor_holder'),{
        schema: {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "test": { "type": "string" }
          },
          "format": "categories",
          "basicCategoryTitle": "Main"
        }
      });

      generalEditor.on('ready',function() {
        wheelEditor.validate();
      });

      document.getElementById('general_submit').addEventListener('click',function() {
        console.log(wheelEditor.getValue());
      });
    </script>
    <script type="text/javascript">
      var wheelEditor = new JSONEditor(document.getElementById('wheel_editor_holder'),{
        schema: {
            type: "object",
            title: "Wheels & Joints",
            properties: {
              "Save Title": {
                "type": "string",
                "default": "NewSave"
              },
              "Dynamixels": {
                "type": "array",
                "format": "table",
                "title": "Dynamixels",
                "uniqueItems": true,
                "items": {
                  "type": "object",
                  "title": "Dynamixel",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "wheel",
                        "joint"
                      ],
                      "default": "wheel"
                    },
                    "id": {
                      "type": "string"
                    }
                  }
                },
                "default": [
                  {
                    "type": "wheel",
                    "id": "0"
                  }
                ]
              }
            }
        }
      });

      wheelEditor.on('ready',function() {
        wheelEditor.validate();
      });

      document.getElementById('wheel_submit').addEventListener('click',function() {
        console.log(wheelEditor.getValue());
      });
    </script>
  </body>
</html>
